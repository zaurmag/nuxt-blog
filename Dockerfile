# Используем как базовый образ node.js v16
FROM node:16

# Устанавливаем рабочую директорию контейнера
WORKDIR /usr/src/app

# Копируем все необходимые файлы приложения в контейнер
COPY . .

# Устанавливаем зависимости приложения
RUN npm install

# Собираем приложение Nuxt.js
RUN npm run build

# Экспортируем порт 3000
EXPOSE 3000/tcp

# Запускаем серверную часть
CMD [ "npm", "run", "start" ]
